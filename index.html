<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="TSVD : Thresholded SVD based K-means for Topic Modeling">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>TSVD</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/theTB/tsvd">View on GitHub</a>

          <h1 id="project_title">TSVD</h1>
          <h2 id="project_tagline">Thresholded SVD based K-means for Topic Modeling</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/theTB/tsvd/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/theTB/tsvd/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="thresholded-svd-based-k-means-for-topic-modeling" class="anchor" href="#thresholded-svd-based-k-means-for-topic-modeling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thresholded SVD based K-means for Topic Modeling</h1>

<p>Code for the paper:<br>
<em>"<a href="http://papers.nips.cc/paper/5302-a-provable-svd-based-algorithm-for-learning-topics-in-dominant-admixture-corpus">A Provable SVD-based Algorithm for Learning Topics in Dominant Admixture Corpus</a>". Trapit Bansal, Chiranjib Bhattacharyya, Ravindran Kannan. In Neural Information Processing Systems (NIPS), 2014.</em></p>

<hr>

<p>This file provides useful information for using the code. 
First we show how to use the demos for running the algorithm on a variety of standard public datasets.
To run on your own data, check the following data format, pre-processing steps and the main matlab function for running the algorithm.
Provided code has been tested on Matlab R2012a/b on a Linux system.</p>

<p>For bugs/queries/suggestions/thanks feel free to email me at "trapitbansal at gmail dot com"</p>

<h3>
<a id="running-demos" class="anchor" href="#running-demos" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running Demos</h3>

<p>Open Matlab with the current directory as the code directory, make sure Matlab is configured for internet access and type:<br>
<code>demo()</code><br>
This will run a demo of the algorithm on the NIPS corpus.  </p>

<p>This function can recover topics from a specified public corpus using TSVD. Other available choices for the corpus are the 20-NewsGroup and any corpus on the UCI repository (that is NIPS, ENRON, KOS, NYT, PUBMED).
Specify the corpus name as input variable, the possible values are: "<em>nips</em>", "<em>enron</em>", "<em>kos</em>", "<em>20NG</em>" (default is nips).
The function downloads corresponding data, processes it, runs TSVD and prints the topics.
If you have problems downloading the data from matlab, create a folder called "<em>demo_[corpus]</em>" where <em>[corpus]</em> is the corpus name as above and put the unzipped data file and the vocabulary file in that folder. Then call <code>demo([corpus])</code>.
The demo script calls the python code to preprocess the data.<br>
<em>Note</em>: Using "nytimes" or "pubmed" as corpus name is also possible though the datasets are quite big and memory issues may arise, so use these at your own risk (nytimes works with around 4GB memory if you have some small swap space available and close all other running programs, pubmed has not been tested).</p>

<h3>
<a id="data-format" class="anchor" href="#data-format" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Format</h3>

<p>For the TSVD function, input data should be in a text file in matlab sparse matrix format, that is each line of input text file is:<br>
<em>Doc_id Word_id Count</em><br>
where Doc_id and Word_id start from 1.<br>
The UCI data is in the same format with 3 addtional header-lines at the start which need to be removed.</p>

<h3>
<a id="pre-processing-data" class="anchor" href="#pre-processing-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pre-processing Data</h3>

<p>It is recommended to preprocess the data before running the algorithm. 
The provided python code is a helper script to remove words from a standard list of stop-words and truncate vocabulary based on term-frequency.
Truncating vocabulary is good for compuational/memory efficiency, and also gives better quality topics.
To run the script type:<br>
<code>python process_data.py &lt;inputData&gt; &lt;inputVocab&gt; &lt;stopwords&gt; &lt;vocab&gt; &lt;outputName&gt;</code>  </p>

<p>where  </p>

<ul>
<li>
<em>inputData</em> is in the input data file to be processed in sparse matrix format<br>
</li>
<li>
<em>inputVocab</em> is vocabulary-words file where i-th line contains the i-th indexed word in inputData<br>
</li>
<li>
<em>stopwords</em> is list of stopwords (one per line) - a standard list is provided though you can use your own<br>
</li>
<li>
<em>vocab</em> is the desired vocabulary truncation<br>
</li>
<li>
<em>outputName</em> is the location (including name) of the output processed file (the code will append ".proc.txt" at end to ensure there is no name conflict)<br>
One can also use UCI format input data for this code, just pass the integer 1 as an additional last argument.</li>
</ul>

<h3>
<a id="running-tsvd-algorithm" class="anchor" href="#running-tsvd-algorithm" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running TSVD Algorithm</h3>

<p>The matlab function signature is:<br>
<code>[M_hat, dominantTopic] = TSVD(infile, outpath, K)</code><br>
where  </p>

<ul>
<li>
<em>infile</em> is the path to the data file (in above format),</li>
<li>
<em>outpath</em> is the output folder name where topic matrix will be written</li>
<li>
<em>K</em> is the number of topics</li>
<li>
<em>M_hat</em> is the topic matrix (vocab*K)</li>
<li>
<em>dominantTopic</em> is the dominant topic assignment for each document
Type <code>help TSVD</code> in matlab for more info on additional parametrers</li>
</ul>

<h3>
<a id="printing-topics" class="anchor" href="#printing-topics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Printing Topics</h3>

<p>The matlab function signature is:<br>
<code>print_topics(M_hat, vocabfile, numtop)</code><br>
where  </p>

<ul>
<li>
<em>M_hat</em> is the output topic matrix from TSVD (vocab*K)</li>
<li>
<em>vocabfile</em> is the vocabulary-word file where i-th line contains the i-th indexed word in inputData</li>
<li>
<em>numtop</em> is the number of top words to print per topic</li>
</ul>

<hr>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">TSVD maintained by <a href="https://github.com/theTB">theTB</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
